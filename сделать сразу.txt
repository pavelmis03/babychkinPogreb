проверить ручник, передачи, задний ход, их звуки и подсказки, что будет, если включить нейтраль не остановившись 
движение задом -> условия для глоха -> таймер и звуки глоха

ЗАПИСАТЬ ВЕЗДЕ:
ГЛАВНОЕ МЕНЮ:
падик
	новая - деревянная комната с погребом (новая) и лестницей на чердак - бесконечная
	инфо - коридор с дверьми-кнопками
		разработчики - стол 
	настройки

игрока и владимира, буханку не сохраняем в принципе, за все переменные, которые у них нужно хранить будут отвечать их постоянные контроллеры. т.о. при переходе в новую комнату контроллер персонажа создает/настраивает персонажа. контроллер владимира будет создавать его когда нужно по триггеру. монстров, которые будут перемещаться из комнаты в комнату не будет. Бункер с мурлокатаном - одна большая комната. тоннели - набор комнат с заранее расставленными монстрами, в этих комнатах будут контроллеры тоннелей, которые будут сохраняться и которые будут с нек. периодичностью генерить монстров. 

Описать игровые скрипты, посмотреть, какие объекты еще не описаны, прошерстить описание игрока

меню смерти игрока, разработать и написать
Сделать отдельный спрайт игроку для пинания буханки и код для него 
потом инвентарь

добавить диалог со степашкой в его кабинете при нажатии Е. (см. ДД), добавить другие диалоги из ДД
Добавить в игру диалог с панками, после которого их надо будет бить.
Панки бегают, дерутся, если их избить, они падают, надо нажать Е, чтобы одеть наручники  
Персонаж первой части не должен бегать до встречи с панками (добавить обучение)
Описать в задачах и ДД
добавить сохранение комнаты в контроллер игры, если будем после диалогов телепортироваться в другие комнаты

Проверить, как ведет себя музыка при переходе из комнаты в комнату
проверить, как читаются структуры (в контр. задач нормально, а в инвентаре?)
проверить загрузку объектов в комнаты, особенно триггеров, понаблюдать за правильностью сохранения локации, за спрайтами сохраняемых объектов

Сделать справку по сохранениям

дорасчитать потребление для движения задом и сделать потребление как на холостых, когда нажат шифт
Буханка всегда поддерживает определенную скорость (типа леонид давит на газ), в зависимости от поверхности может увеличиться(уменьшиться) расход и при смене поверхности может снизиться(увеличиться) скорость. Также от поверхности зависит износ и максимальная (и минимальная) сокрости
скорость торможения зависит от поверхности и износа
вывод информации о повороте руля
От поворота руля зависит степень наклона буханки (спрайт поворачивающей буханки)
При нажатии газа на нейтрали и при зажатом шифте рык движка сильный. При просто нажатии газа звуки подгазовки. 
Если едем на пониженной передаче, тоже рык
При нажатии газа на нейтрали или шифте расход увеличивается, при нажатии шифта без газа расход равен холостым оборотам
расчитать расход топлива от скорости и передачи 
Отображение износа буханки
зависимости от поверхности расход увеличивается
Игрока при посадке в машину просто удалять, если от его существования не зависит ничего
при переходе на буханке в другую комнату, должно перезаписываться buh_map_info[?"room"]
В машине инвентарь игрока доступен, но инвентарь буханки только через багажник 
Также контроллер для буханки, только она создаёт при всех тех же условиях + запрос от кого-нибудь на создание буханки, сама не создаёт. Хранит массив комнат, где буханка была создана, удаляет из него, если буханка перемещается
Характеристики: бензин, прочность, здоровье, износ, вес
Сохранение положения буханки и комнаты, в которой она осталась. Если текущая комната совпадает с сохраненной, буханка создается в заданном месте
Реализовать систему переключения передач через сцепление(shift) + (1, 2, 3, 4 передачи и реверс 5, нейтраль 0) в соответствии с реальными значениями скоростей (без шифта не переключать)
Система износа (в зависимости от проеханных километров, коэффициент износа на разной местности, износ при столкновении с предметами (степень износа), износ при хранении машины на улице в непогоду), износ при включении R до полной остановки, изно при старте на ручнике, при включении ручника до остановки.
Плавный разгон и торможение, зависимость скорости от износа и передачи
Возможности машины заглохнуть:
Неправильно выбранная передача (больше, чем может выдать двигатель, например со 2ой на 4ую)
Случайно (износ больше 70%, дождь/лужи/грязь, столкновение)
Кончился бензин - глохнем + износ
Возможность поломки машины при износе больше 90%, окончательной поломки (на ремонт нужно много деталей и времени) при износе более 95%
Возможность ремонта буханки найденными запчастями
Возможность модернизации буханки (жизни, прочность, скорость, износ, бензин, запаска, грузоподъемность, увеличение шанса завестись)
Арсенал и хранение предметов в машине
комнаты улучшения буханки, инвентаря буханки (но не факт, что надо, мб, это будет комната инвентаря)
--
от прокачки зависит шанс завестись. 
нажимаем шифт, 1, w, отпускаем шифт - едет, иначе глохнет + износ с первого раза +1%, со второго +1.5, с третьего +3%
Остальные передачи также
Тормозить до нуля на шифте, иначе глохнет, износ +5%. Z - ручник. Если выйти и не поставить на ручник, машина может откатиться вперёд на несколько метров (просто забавное обстоятельство). 
Чтобы ехать задом нужно полностью остановиться, нажать шифт и R
Проверять, что слева и справа от буханки нет препятствий, прежде, чем открывать дверь, а также на остановку и нейтраль перед выходом. Считается, что она автоматически глушится при выходе. 
таймер, который отмеряет, через сколько заглохнет буханка при неправильных действиях
при переходах в другие комнаты внутри буханки нужно, чтобы контроллер перемещений менял в контроллере буханки имя комнаты, хранящей буханку. А контроллер игрока не создавал в новой комнате игрока.
При движении проверять, что ручник не включен
Добавить объект, через который не может проехать буханка
!!!!!!разместить триггер на парковке, который будет как раз создавать буханку!!!!!!!
ПРИНЦИП РАБОТЫ КОНТРОЛЛЕРА БУХАНКИ:
в игре всегда только одна буханка. Контроллер с самого начала игры знает, где она - комната подземной парковки.
когда нам надо будет перемещать буханку в гараж или еще куда, мы создаем триггер на подходе к этому месту или прям в нем на игроке, чтобы сработал сразу, как игрок окажется в этом месте. По этому триггеру меняется информация в контроллере буханки: обновляются записи о ее положении, триггер удаляется и больше в игре никогда не появляется, т.к. он сохраняется, а контроллер создает буханку, обнаружив, что она должна быть в комнате, но ее нет
При добавлении снаряжения добавлять и текущий вес инвентаря
обрезать невидимую часть спрайта буханки

проверить сохранение координат игрока
Создать родителя игрока, куда перекинуть все константы















посмотреть, как люди делают снег в играх, забить и просто крутить анимацию
https://www.youtube.com/watch?v=PgZy5TzLRd4
https://yandex.ru/search/?text=%D0%BA%D0%B0%D0%BA+%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D1%82%D1%8C+%D1%81%D0%BD%D0%B5%D0%B3+game+maker+2&lr=213

план:
ЗАПИСЫВАТЬ ВСЕ ДОБАВЛЕННЫЕ ПРЕДМЕТЫ В ДД, ОСОБЕННО ИНВЕНТАРЬ: ГДЕ ЛЕЖИТ И ЧТО ЭТО (см. дд - инвентарь - предметы)

если по скрипту нельзя добавить предметы в инвентарь выводить подсказку
написать скрипт определения game_stage (проверить, есть ли такая задача)

Турель
Сделать турели на гусеницах
Доделать турели (радар + плавный поворот + уничтожение снаряда ОНИХ и ракетницы)
Турель должна атаковать самого сильного противника или того, кто ее уже атакует (и самого ближнего) FAQ (раздел II.6.3)
Сделать возможность отключать турели
Сделать возможность снимать с турелей оружие и патроны
Турель неадекватно работает, когда игрок вокруг нее бегает (стрельба на упреждение не правильная)


разработать и создать систему генерации сюжетных триггеров в нужных местах
возможно, стоит сделать еще один тип триггеров, а-ля будущий предмет obj_n, который будет находиться по нужным координатам и заменяться нужным объектом при необходимости

продумать, как разделить функции инвентаря между контроллером инвентаря и контроллером комнаты инвентаря
описать оба контроллера в задачах и в ДД

переделать перспективу главного меню: от центра к краю она должна сужаться, мб боковые двери на боковых стенах сделать 
сереге сказать, чтобы поправил в диалоге справа конец торчит в начале, листы странно смотрятся: сначала прямая линия, а потом угол листа больще 90 градусов. мб заменить греческую хрень на лист типа протокола, как блокнот можно

закинуть миссии в контроллер задач в ГМК
В журнале один заголовок - одна страница. Открывая журнал, открываем текущее задание.
Выполненные сзади
Заголовки открываются по индексу: триггер просто увеличивает индекс и новый заголовок доступен. Пункты открываются по айди когда надо. Чтобы можно было открывать задания постепенно

Подсказки о получении задания добавить 
Появляется надпись ,,уточнение задание,,

Записать моменты получения информации об оружии, истории и квестах

потом везде шрифтов понакидать, чтоб красиво было

во второй части игры нужно будет придумывать, как назначать спрайт в scr_player_moveSpr с учетом оружия
причем надо пройтись по всем местам, где использовались названия forward, lforward, rforward, backward, lbackward, rbackward, right, left, stand

ИНВЕНТАРЬ
ИНВЕНТАРЬ
ИНВЕНТАРЬ
описать в ДД и в задачах
ИНВЕНТАРЬ
ИНВЕНТАРЬ
ИНВЕНТАРЬ

Сделать, как в факторио: при нажатом шифте текущая ячейка переносится полностью в другой инвентарь (в т.ч. и снаряжение), если нажат контрол, то все одинаковые вещи переносятся в другой инвентарь
Половину вещей НЕ надо, переброска всех вещей с контролом по пустой клетке - тоже не надо

Разрушаемость ящиков с патронами и предметами

Каждый предмет хранит вес, максимум на инвентарь и на клетку

Подсказка в зависимости от количества добавленных предметов: поднято все - нет подсказки. Поднято не все - объяснение причины частичного использования. Если ничего нельзя поднять, тоже объяснение.
Если часть кода по добавлению займет мало места, то объединить контроллеры комнаты и основной

выводить общий вес и количество предметов в инвентаре в отдельной строке статуса
Выводить номер страницы инвентаря и их количество 

При наведении фокуса на предмет выводятся картинка, название, описание, использование, примерная цена, редкость, вес, количество в инвентаре 

В режиме обычного инвентаря слева от клеток выводятся данные игрока: здоровье, деньги и пр.
и там же инвентарь снаряжения
Меню снаряжения
Каждая ячейка принимает определенный тип предметов
Информация о предмете (урон, износ, скорострельность и т.д.)
Быстрые клавиши для использования снаряжения
Кнопка ,,Снять все,,
Кнопка ,,Надеть,,
Кнопка ,,Снять,,
Инвентарь снаряжения (ячейки)
Пистолет
Нож
Основное оружие
Дополнительное оружие
Четыре ячейки снаряжения (Можно положить гранаты, аптечки, еда, вода…)
Ячейка перчатки
Ячейка валенки
Ячейка шапка
Ячейка штаны
Ячейка куртка
Ячейка бронежилет
Ячейка с вопросительным знаком (для силового поля или чего-нибудь такого - сюжетного)

Использовать предметы из инвентаря можно только в обычном режиме при открытии через таб.
Если обмен - то кнопка использования имеет другое действие.
Кнопки: 
ЛКМ - взять/положить содержимое клетки. Если клетка уже занята, то происходит объединение с таким же предметом (лишнее, если есть, остаётся в курсоре) или замена поднятым предметом содержимого клетки назначения. То, что лежало в ней попадает в курсор. 

ЛКМ 2х - объединить в данной клетке все такие же предметы до максимального количества

ЛКМ 2х на пустой клетке (или кнопка) - сортировать предметы: заполнить все пустые ячейки по порядку, объединить все клетки до максимального количества предмета в клетке, сюжетные предметы на первые места. 

ПКМ - использовать предмет, если открыт инвентарь. Если предмет восстанавливает какой-либо параметр, и он уже полон, выводится сообщение и предмет не используется.
При попытке использовать неиспользуемый предмет ничего не происходит (не надо диалог)
Если ящик - с остальными типами инвентаря - взять половину. 

Если взять предмет лкм и кликнуть вне инвентаря, то через диалог подтверждения предмет выбрасывается 

Если взять предмет лкм и нажать пкм на любой пустой клетке или клетке с таким же предметом (при условии, что в клетке не достигнут максимум) от кучи взятых предметов отделяется один и остаётся в этой клетке. 
Если нажать вне инвентаря, предмет выбрасывается 

Shift + ЛКМ - выбросить всю клетку без диалога подтверждения
Сюжетные предметы нельзя выбросить - диалог подтверждения.
Если ящик - переместить всю клетку на свободную.

Ctrl + ЛКМ на предмет - переместить все предметы данного типа в ящик или из ящика

Кнопка ,,очистить инвентарь,, - если открыт через таб - выкинуть все предметы, кроме сюжетных, через диалог подтверждения
Если ящик - выложить/продать все предметы через свой диалог для каждого случая 

Кнопки
,,очистить инвентарь,,. 
,,Сортировать,,
,,Переместить/продать,,
,,Купить/скрафтить,, - выделенный предмет перемещается в рюкзак и списывается стоимость предмета или вычитаются ресурсы для крафта и предмет крафта перемещается в рюкзак.
,,Вперёд/назад,, - стрелочки для перелистывания страниц инвентаря. Также можно листать цифрами ,,1, 2, 3..9,,
Стрелочками на клавиатуре можно перемещать фокус по клеткам.
Удалять предметы можно кнопкой клавиатуры ,,delete,,

ЯЩИКИ
*имеют ограниченное количество клеток
не ограничено по весу и предметам, но на ячейку все еще действуют ограничения по предметам
Кнопка ,,Взять все,, причем вес не должен переполниться и количество одинаковых предметов на рюкзак тоже
Диалог подтверждения для кнопки ,,Взять все,,
Диалог ,,Ящик заполнен,,
Если ящик переполнен, предметы должны возвращаться на место в обычном инвентаре
Вес и количество предметов для ящика


КРАФТ ПРЕДМЕТОВ
Выглядит, как инвентарь, в котором за каждым предметом закреплено место. Предметы - чертежи. Пока какого-либо чертежа нет, клетка пустая. Если навести на чертеж курсор, о нем выведется инфа: что можно скрафтить, что для этого нужно, характеристики предмета. Когда кликаем на чертеж, остальные исчезают, исчезают и лишние клетки, остается столько клеток, сколько нужно различных деталей для Крафта выбранного предмета. 
На каждой клетке иконка нужного предмета и цифра - количество. Пока не достигнуто нужное количество предмета, вокруг клетки красная рамка, потом она меняется на зелёную.
Если нужные предметы есть в инвентаре, они автоматически подставляются в клетки верстака. Также туда подставляются предметы из ящика в доме по id, который передается верстаку сразу, как только мы взяли в дом или появляется ящик.
При крафте предмета сначала используются детали из ящика, потом из инвентаря. 
Когда все клетки заполнены, в отдельной, до этого пустой клетке появляется желаемый предмет. На этой клетке количество предметов, которые можно сделать. 
Если кликнуть ЛКМ, в курсор добавится предмет, ещё клик - +1 предмет в курсор. Shift + ЛКМ - все предметы, которые можно сделать. 
Чтобы вернуться в меню чертежей - отдельная кнопка ,,стрелочка,,
При выходе из инвентаря, все предметы перемещаются из Крафта в рюкзак 
Ячейки Крафта не имеют ограничений на количество предметов 
Здесь же и починка предметов (продумать, как)
?????????????????
Снизу разместить клетки необходимых для починки инструментов (которые возвращаются игроку после починки)
Окошко информации, в котором написаны характеристики создаваемого предмета
Починка предметов
Диалоги, уведомляющие о нехватке предметов
Кнопка ,,очистить,,
Кнопка ,,создать/починить,,
?????????????????

КУПЛЯ-ПРОДАЖА
у торговца такой же инвентарь, как у нас, со страницами и подсветкой предметов разной ценности.
Не выводится общие количество предметов и вес, зато выводится сумма, на которую торговец готов покупать.
При наведении на предмет продавца выводится информация о нем так, как при наведении на наш предмет. При клике предмет переносится к нам в инвентарь без возможности продажи обратно или с возможностью, но по меньшей цене  МНЕ НЕ НРАВИТСЯ (нужно подтверждение сделки)
В нашем инвентаре при сделке отображаются только предметы, которые торговец готов купить. (У каждого торговца свой список, который иногда обновляется) (выбор из константного массива рандомного количества предметов одного или нескольких типов)
Диалог подтверждения при продаже редких предметов
Диалог, сообщающий о невозможности продать сюжетный предмет
Диалог, сообщающий о невозможности купить предмет по причине нехватки денег
Слова продавца (рандомные фразочки)
Иконка и имя продавца




НА ПЕРСПЕКТИВУ + СЮЖЕТ-----------------------------------------------------------------


ПРОДУМАТЬ, ЧТО ЛОМАЕТСЯ ПРИ ВЫХОДЕ ИЗ ИГРЫ НЕ ЧЕРЕЗ МЕНЮ, А ЧЕРЕЗ КРЕСТИК ИЛИ ДРУГИМИ СПОСОБАМИ


БРАТСТВО
механика стрельбы:
они стреляют так же быстро, как мы (скорость пули), но иногда делают перерывы в стрельбе, чтобы дать возможность выстрелить нам, медленно поднмают оружие, чтобы можно было успеть отпрыгнуть, перезаряжаются быстро, чтобы жизнь медом не казалась. Сделать скорость пули, от которой можно уклониться только на большом расстоянии (можно даже сделать чуть быстрее, чем скорость пуль игрока, но чтобы это было незаметно) или объяснить более технологичным оружием. бой с братством должен быть тактически интересным


посмотреть https://github.com/GameMakerDiscord/ExternalLibraryExample
https://www.yoyogames.com/ru/tutorials

ПРЕДСТОЯЩИЕ ЗАДАЧИ
Создать массив снаряжения (надетого) (валенки и пр.)  и эффектов, которые добавляются к игроку
Создать массив описания предметов, необходимых для крафта и починки
Массив соответствия: предмет-эффект (для оружия, валенок и т.д.)

Константный массив максимальных и минимальных значений бонусов
Создать массив описания шума (не злоупотреблять: шум только от игрока)
Создать массив коэффициентов поверхностей (почва, дорога…)
Создать массив предметов, которые можно скрафтить и к нему необходимые для крафта предметы и их количество
Создать массив предметов, которые можно починить по аналогии с массивом крафта, но добавить степень износа, после превышения которой чинить нельзя
Создать массив необходимых предметов и опыта для починки и создания предметов

При убийстве ракетницей труп должен разлетаться 
Если жизней у монстра ещё много, думаю, имеет смысл сделать так, чтобы ракета не взрывалась, типа застревая в теле или т.п.

ТЕНЬ
Настройка прозрачности света (эффект удаления: чем дальше, тем тусклее)
Настройка длины луча
Настройка яркости и цвета света
Угол освещения фонариком
Протестировать на карте
Протестировать на живых объектах
Мигание фонарика
Объекты фонарика и батареек, пустых батареек
Включение фонарика на F только для игрока в тоннелях
Проверка на наличие фонарика и батареек
Предметы, сквозь которые можно светить и нет
Глубина просвечивания предметов (регулируется маской)
Массив угла освещения предмета, дальности, яркости
Предметы освещения


паук при укусе фиксирует игрока и наносит урон трижды: при укусе и при каждом рывке.
можно еще сделать заражение

Создать отдельного игрока со всеми переменным, но без событий, без спрайта
Для объектов машины, стационарной аптечки и т.д. где его не видно

Создать объект следы, которые остаются на снегу
Он должен иметь массив следов, у каждого следа есть время жизни из и координаты, по истечении которого след удаляется
Объект следа не создаёт новых следов, он лишь рисуют спрайты на тех местах где прошёл игрок 


Каждый четверг в участок завозят 3 обоймы для пистолета, а Леониду начисляется немного денег за службу

Посмотреть статистику Майнкрафта 


В конце игры будет гонка по процедурно-генерируемой пустыне, где нужно будет мчаться по компасу и радару, которые иногда будет засвечивать на несколько минут и потом нужно будет снова искать дорогу. Компас все время будет слегка врать и колебаться, а радар (он же навигатор, работающий по неизвестным принципам) периодически идти помехами. Один раз будем проезжать мимо руин уже настолько изуродованных, что не понятно, что это, один раз мимо руин космического крейсера. Периодически за нами будут гнаться твари. Если остановиться, сразу появляются твари. Сделать день и ночь. Он должен ехать два дня, пока горючка не кончится: один привал на дозаправку.
Горючка кончится у ворот космопорта, придется бежать до бункера с пеленой от усталости на глазах, убегая от медленных и отстреливаясь от быстрых тварей. Сделать лабиринт из ангаров, чтобы с первого раза не пройти. Когда Леонид побежит в бункер, он должен закрыть двери и потерять сознание от усталости.


после того, как мы встретим бабку, она нам все расскажет, мы тоже захотим свалить с планеты.
для этого нужно будет найти проход к городу, где жил последний президент, в его документах найти данные о шатлах и карту военной базы, откда запускались колонизаторы. А так же узнать, что они не погибли все:
их было семь, первый успешно дошел до юпитера, а потом с ним пропала связь потому что (добавить деталей) юпитер после солнечной активности превратился в какую-то хрень. второй погиб в поясе астероидов. третий взорвался на старте. четвертый и пятый запустили одновременно и они ушли к поясу койпера, после чего оттуда пришел сигнал бедствия. еще два колонизатора так и остались на стапелях, потому что надежда была утеряна, да и запускать было уже почти некого. оба корабля будут повреждены: один упал и пробил стену, через дыру в стене и в обшивке шатла туда залезли мурлакатаны и обосновали себе дом (их будет очень много, если откроем шатл, они будут лезть, пока не уничтожат нас, сохранение должно быть перед дверью в этот ангар. После третьей-пятой смерти можно вывести подсказку, что это не вариант. Второй шатл будет помятым, но целым на вид, однако окажется, что кто-то расстрелял рубку: там будут трупы и все уничтожено. 
Отчаявшись нужно будет обследовать базу и найти записи о техническом корабле-разведчике, который имеет гипердвигатель и стоит где-то на этой базе. Нужно будет пройти ее всю (коридоры должны кишить монстрами) и найти его, после чего починить и улететь. только окажется, что нужны коды запуска, причем их можно ввести только из центра управления (то есть кому-то придется остаться). Но где-то по сюжету мы должны сделать что-то, чтобы командир братства (по кличке крокодил генри (людоед)), потерявший в бою с нами свою армию и город, оказавшийся тоже как бабка хранителем, поможет нам с кодами доступа. Еще нужна история, где бабка берет нас в плен, когда узнает, что коды нужно вводить в ЦУ и угрожает убить владимира, заставляя нас ввести коды. Возможно, стоит сделать две концовки. если мы не улетаем, то возвращаемся в деревню служить участковым. А потом нам показывают историю, где все плохо: деревня полумертвая, старый леонид сидит за обшарпанным столом с бутылкой водки и пистолетом в руке...
















